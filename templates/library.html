{% extends "base.html" %}
{% block title %}Library{% endblock %}

{% block content %}
<div class="py-8">

    <!-- Search Bar -->
    <form action="/search-books" method="GET" class="mb-8">
        <div class="flex gap-3">
            <input 
                type="text" 
                name="q"
                placeholder="Search for a book by title or author..."
                class="flex-grow px-4 py-2 rounded-lg bg-white/80 dark:bg-gray-700/60 shadow focus:outline-none"
                required
            >
            <button 
                type="submit"
                class="px-6 py-2 rounded-lg bg-teal-600 hover:bg-teal-700 text-white shadow">
                Search
            </button>
        </div>
    </form>

    <h1 class="text-3xl font-bold mb-6">Your Library</h1>

    {% if books %}
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

            {% for book in books %}
                <div class="p-6 backdrop-blur-md bg-white/70 dark:bg-gray-800/70 rounded-xl shadow">
                    <h2 class="text-xl font-semibold">{{ book.title }}</h2>

                    {% if book.author %}
                        <p class="text-gray-600 dark:text-gray-300 mb-2"><em>{{ book.author }}</em></p>
                    {% endif %}

                    {% if book.cover_url %}
                        <img src="{{ book.cover_url }}" class="w-32 mt-2 rounded shadow" alt="Cover image for the book {{ book.title }}">
                    {% endif %}

                    {% if book.status %}
                        <p class="mt-3 text-sm text-gray-700 dark:text-gray-300">
                            Status: <span class="font-medium">{{ book.status }}</span>
                        </p>
                    {% endif %}
                </div>
            {% endfor %}

        </div>

    {% else %}
        <p class="text-gray-700 dark:text-gray-300 text-lg">
            You haven‚Äôt added any books yet üìñ  
        </p>
        <p class="text-gray-500 dark:text-gray-400">
            Use the ‚ÄúAdd Book‚Äù option to start building your library.
        </p>
    {% endif %}

</div>
{% endblock %}